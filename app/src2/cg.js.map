{"version":3,"sources":["cg.es6"],"names":[],"mappings":"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","file":"cg.js","sourcesContent":["/**\n * Created by yarden on 8/24/15.\n */\n\nimport d3 from 'd3';\n\nimport {cg as opt} from '/config';\nimport Selector from './components/selector';\nimport Graph from '/.graph';\n\nexport default function() {\n  let width = 200, height = 200;\n  let showEdges = false;\n\n  let force = d3.layout.force()\n    .on('tick', updatePosition)\n    .on('end', forceDone);\n\n  let x = d3.scale.linear()\n    .domain([0, 1])\n    .range([0, 1]);\n\n  let y = d3.scale.linear()\n    .domain([0, 1])\n    .range([0, 1]);\n\n  let nodesRange = [0, 1],\n      edgesRange = [0.7, 1];\n\n  let nodesSelector = Selector()\n    .width(100).height(50)\n    .select(nodesRange)\n    .on('select', r => {\n      nodesRange = r;\n      render(opt.canvas.fastDuration);\n      updateEdgesSelector();\n    });\n\n  let edgesSelector = Selector()\n    .width(100).height(50)\n    .select(edgesRange)\n    .on('select',  r => { edgesRange = r; render(opt.canvas.fastDuration); });\n\n\n  function updatePosition() {}\n  function forceDone() {}\n  function render() {}\n\n  function build() {\n    let svg = d3.select(this)\n      .append('svg');\n\n    svg.append('rect')\n      .attr('class', 'overlay')\n      .attr('width', width)\n      .attr('height', Math.max(0, height - edgeSelector.height() -10));\n\n    /* selectors */\n    let sg = svg.append('g')\n      .attr('class', 'cgSelectors');\n\n    nodesSelector(sg.append('g').attr('class', 'nodesSelector'));\n\n    sg.append('text')\n      .attr('transform', 'translate(20,'+(nodesSelector.height()+ 5) + ')')\n      .text('topics');\n\n    edgesSelector(sg.append('g')\n      .attr('class', 'edgesSelector')\n      .attr('transform', 'translate(' + (nodesSelector.width() + 10) +',0)'));\n\n    sg.append('text')\n      .attr('transform', 'translate(' + (20 + nodesSelector.width() + 10) +',' + (nodesSelector.height() + 5) + ')')\n      .text('relations')\n      .on('click', () => { showEdges = !showEdges; render(); });\n\n\n    let g = svg.append('g');\n\n    g.append('g').attr('class', 'links');\n    g.append('g').attr('class', 'nodes');\n\n    addListeners();\n\n    return g;\n  }\n\n  function addListeners() {\n\n  }\n\n  let cg = function(selection) {\n    selection.each(function(d) {\n      let g = d3.select(this).select('g');\n      if (g.empty()) g = build();\n\n\n    });\n  };\n\n  cg.width = function(_) {\n    if (!arguments.length) return width;\n    width = _;\n    return this;\n  };\n\n  cg.height = function(_) {\n    if (!arguments.length) return height;\n    height = _;\n    return this;\n  };\n\n  cg.render = function() {\n    return this;\n  };\n\n  return cg;\n}"]}