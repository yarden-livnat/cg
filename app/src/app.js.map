{"version":3,"sources":["app.es6"],"names":[],"mappings":";;;;;;;;;;;AAgBA,MAAI,GAAG,GAAG,aAAI,KAAK,CAAC,CAAC;AACrB,MAAI,SAAS,GAAG,aAAM,SAAS,EAAE,CAAC;AAClC,MAAI,EAAE,GAAG,qBAAI,CAAC;;AAEd,UAAO,SAAS,CAAC,EAAC,OAAO,EAAC,MAAM,EAAE,KAAK,EAAC,SAAS,EAAE,QAAQ,EAAE,oBAAM;AACjE,eAAS,CAAC,MAAM,GAAG,cAAK,MAAM,CAAC;KAChC,EAAC,CAAC,CAAC;;AAEJ,UAAO,SAAS,CAAC,EAAC,OAAO,EAAC,MAAM,EAAE,KAAK,EAAC,OAAO,EAAE,QAAQ,EAAE,oBAAM;AAAC,iBAAW,EAAE,CAAA;KAAC,EAAC,CAAC,CAAC;;AAEnF,UAAQ,EAAE,CAAC;AACX,gBAAK,IAAI,EAAE,CAAC;;AAGZ,WAAS,MAAM,GAAG;AAChB,QAAI,GAAG,GAAG,IAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3B,QAAI,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AACrC,QAAI,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;AACtC,MAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GACjB;;AAED,WAAS,QAAQ,GAAG;AAClB,sBAAO,IAAI,EAAE,CAAC;;AAEd,QAAI,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;AAC/D,QAAI,cAAc,EAAE;AAClB,qBAAa,cAAc,EAAE;AAC3B,eAAO,EAAE,QAAQ;OAClB,CAAC,CAAC;KACJ;;AAED,UAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;GAC3C;;AAED,WAAS,WAAW,GAAG;AACrB,WAAM,IAAI,EAAE,CAAC;;AAEb,OAAG,CAAC,UAAU,CAAC,cAAK,UAAU,CAAC,CAC5B,SAAS,CAAC,SAAS,CAAC,CACpB,IAAI,EAAE,CAAC;;AAEV,MAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CACX,SAAS,CAAC,SAAS,CAAC,CAAC;AACxB,UAAM,EAAE,CAAC;GACV","file":"app.js","sourcesContent":["/**\n * Created by yarden on 6/30/15.\n */\n\nimport * as xpanel from './components/xpanel'\nimport * as Formater from 'formatter'\nimport * as d3 from 'd3'\nimport * as postal from 'postal'\n\nimport * as data from './services/data';\nimport * as query from 'query';\nimport * as Map from 'map/Map';\nimport CG from 'cg/cg';\n\nimport * as model from 'model/models'\n\nlet map = Map('map');\nlet selection = model.selection();\nlet cg = CG();\n\npostal.subscribe({channel:'data', topic:'changed', callback: () => {\n  selection.domain = data.domain; //map(function(d) { return d.id;});\n}});\n\npostal.subscribe({channel:'data', topic:'ready', callback: () => {initModules()}});\n\ninitHTML();\ndata.init();\n\n\nfunction resize() {\n  let div = d3.select('#cg');\n  let w = parseInt(div.style('width'));\n  let h = parseInt(div.style('height'));\n  cg.resize(w, h);\n}\n\nfunction initHTML() {\n  xpanel.init();\n\n  let duration_input = document.getElementById('duration-input');\n  if (duration_input) {\n    new Formater(duration_input, {\n      pattern: \"{{99}}\"\n    });\n  }\n\n  window.addEventListener('resize', resize);\n}\n\nfunction initModules() {\n  query.init();\n\n  map.population(data.population)\n    .selection(selection)\n    .init();\n\n  cg.init('#cg')\n    .selection(selection);\n  resize();\n}"]}