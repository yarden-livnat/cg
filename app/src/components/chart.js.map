{"version":3,"sources":["chart.es6"],"names":[],"mappings":"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","file":"chart.js","sourcesContent":["/**\n * Created by yarden on 7/23/15.\n */\n\nimport * as d3 from 'd3'\n\nexport default function() {\n\n  let data;\n  let margin = {top:10, right: 60, bottom: 30, left:20};\n  let width = 350 - margin.left - margin.right,\n      height = 150 - margin.top - margin.bottom;\n\n  let svg, svgContainer;\n\n  let x = d3.time.scale()\n    .range([0, width])\n    .nice(5);\n\n  let y = d3.scale.linear()\n      .range([height, 0]);\n\n  let xAxis = d3.svg.axis()\n    .scale(x)\n    .orient('bottom')\n    .tickSize(-height, 0)\n    .tickPadding(6)\n    .ticks(4);\n\n  let yAxis = d3.svg.axis()\n    .scale(y)\n    .orient('right')\n    .tickSize(-width)\n    .tickPadding(6)\n    .ticks(4);\n\n  //let area = d3.svg.area()\n  //  .interpolate('step-after')\n  //  .x( d => { return x(d.date); })\n  //  .y0(y(0))\n  //  .y1( d => { return y(d.value); });\n\n  let line = d3.svg.line()\n    .interpolate('step-after')\n    .x( d => { return x(d.date); })\n    .y( d => { return y(d.value); });\n\n  let zoom = d3.behavior.zoom()\n    .on('zoom', draw);\n\n  let gradient;\n\n  function resize(w, h) {\n    svgContainer\n      .attr('width', w)\n      .attr('height', h);\n\n    width = w -margin.left - margin.right;\n    height = h -margin.top - margin.bottom;\n    x.range([0, width]);\n    y.range([height, 0]);\n\n    xAxis.tickSize(-width);\n    yAxis.tickSize(-width);\n\n    svg.select('#clip rect')\n      .attr('x', x(0))\n      .attr('y', y(1))\n      .attr('width', x(1) - x(0))\n      .attr('height', y(0) - y(1));\n\n    svg.select('g.y.axis')\n      .attr('transform', 'translate(' + width + ',0)');\n\n    svg.select('g.x.axis')\n      .attr('transform', 'translate(0,' + height + ')');\n\n    svg.select('.pane')\n      .attr('width', width)\n      .attr('height', height)\n      .call(zoom);\n  }\n\n  function init() {\n    gradient = svg.append(\"defs\").append(\"linearGradient\")\n      .attr(\"id\", \"gradient\")\n      .attr(\"x2\", \"0%\")\n      .attr(\"y2\", \"100%\");\n\n    gradient.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", \"#fff\")\n      .attr(\"stop-opacity\", .5);\n\n    gradient.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", \"#999\")\n      .attr(\"stop-opacity\", 1);\n\n    svg.append('clipPath')\n        .attr('id', 'clip')\n      .append('rect')\n        .attr('x', x(0))\n        .attr('y', y(1))\n        .attr('width', x(1) - x(0))\n        .attr('height', y(0) - y(1));\n\n    svg.append('g')\n      .attr('class', 'y axis')\n      .attr('transform', 'translate(' + width + ',0)');\n\n    //svg.append('path')\n    //  .attr('class', 'area')\n    //  .attr('clip-path', 'url(#clip)')\n    //  .style('fill', 'url(#gradient)');\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\");\n\n    svg.append(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"clip-path\", \"url(#clip)\");\n\n    svg.append(\"rect\")\n      .attr(\"class\", \"pane\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .call(zoom);\n  }\n\n  function draw() {\n    svg.select('g.x.axis').call(xAxis);\n    svg.select('g.y.axis').call(yAxis);\n    //svg.select('path.area').attr('d', area);\n    svg.select('path.line').attr('d', line);\n  }\n\n  function api() {}\n\n  api.el = function(el, opt) {\n    let selection = typeof el =='string' ? d3.select(el) : el;\n    selection.attr('class', 'chart');\n\n    svgContainer = selection.append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom);\n\n    svg = svgContainer.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top+ ')');\n\n    init();\n    return this;\n  };\n\n  api.resize = function(w, h) {\n    resize(w, h);\n    if (data) draw();\n  };\n\n  api.data = function(series) {\n    data = series;\n    x.domain([d3.min(data, d => { return d.date; }), d3.max(data, d => { return d.date; })]);\n    y.domain([0, d3.max(data, d => { return d.value; })]);\n    zoom.x(x);\n\n    //svg.select('path.area').data([data]);\n    svg.select('path.line').data([data]);\n\n    draw();\n    return this;\n  };\n\n  api.resize = function(size) {\n    resize(size[0], size[1]);\n    return this;\n  };\n\n  return api;\n}"]}